{"ast":null,"code":"var _jsxFileName = \"/home/skallagrimsson/GitHub/ankuoo_web_app/ankuoo/src/components/onoff/onoff.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport './onoff.scss';\nimport button_on from './power-button-on.png';\nimport button_off from './power-button-off.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction OnOff() {\n  _s();\n\n  const [status, setStatus] = useState(0);\n\n  function buttonSetStatus(e) {\n    if (status === 0) {\n      e.target.setAttribute('src', button_off);\n      setStatus(status + 1);\n      startTimer();\n    } else {\n      e.target.setAttribute('src', button_on);\n      setStatus(status - 1);\n      clearTimer();\n    }\n  }\n\n  const Ref = useRef(null);\n  const [timer_btn, setTimer] = useState('00:00:00');\n\n  function startTimer() {\n    var oldtime = new Date().getTime();\n    var now = new Date().getTime();\n    var distance = now - oldtime;\n    var timer_hours = Math.floor(distance % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n    var timer_minutes = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));\n    var timer_seconds = Math.floor(distance % (1000 * 60) / 1000);\n    setTimer((timer_hours <= 9 ? '0' + timer_hours : timer_hours) + ':' + (timer_minutes <= 9 ? '0' + timer_minutes : timer_minutes) + ':' + (timer_seconds <= 9 ? '0' + timer_seconds : timer_seconds));\n    Ref.current = idtimer;\n  }\n\n  function clearTimer(e) {\n    setTimer('00:00:00');\n    clearInterval(Ref.current);\n  }\n\n  useEffect(() => {\n    if (timer_btn !== \"00:00:00\") clearTimer();\n  });\n  var button_status = button_off;\n  if (status === 1) button_status = button_on;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"onoff\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: button_status,\n      id: \"button-img\",\n      onClick: buttonSetStatus,\n      alt: \"onoff button\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"timer-text\",\n      children: [\" \", timer_btn, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OnOff, \"Fcc+cQN/u5LwYjbEZxg0ezOqvEU=\");\n\n_c = OnOff;\nexport default OnOff;\n\nvar _c;\n\n$RefreshReg$(_c, \"OnOff\");","map":{"version":3,"sources":["/home/skallagrimsson/GitHub/ankuoo_web_app/ankuoo/src/components/onoff/onoff.jsx"],"names":["React","useState","useRef","useEffect","button_on","button_off","OnOff","status","setStatus","buttonSetStatus","e","target","setAttribute","startTimer","clearTimer","Ref","timer_btn","setTimer","oldtime","Date","getTime","now","distance","timer_hours","Math","floor","timer_minutes","timer_seconds","current","idtimer","clearInterval","button_status"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport './onoff.scss'\n\nimport button_on from './power-button-on.png'\nimport button_off from './power-button-off.png'\n\nfunction OnOff() {\n  \n  const [status, setStatus] = useState(0);\n\n  function buttonSetStatus(e) {\n\n    if (status === 0) {\n      e.target.setAttribute('src', button_off)\n      setStatus(status + 1);\n      startTimer();\n    }\n    else {\n      e.target.setAttribute('src', button_on)\n      setStatus(status - 1);\n      clearTimer()\n    }\n  }\n\n\n  const Ref = useRef(null);\n\n  const [timer_btn, setTimer] = useState('00:00:00')\n\n  function startTimer() {  \n\n    var oldtime = new Date().getTime();\n\n      var now = new Date().getTime();\n    \n      var distance = now - oldtime;\n    \n      var timer_hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n      var timer_minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n      var timer_seconds = Math.floor((distance % (1000 * 60)) / 1000);\n    \n      setTimer(\n        (timer_hours <= 9 ? '0' + timer_hours : timer_hours) + ':' + \n        (timer_minutes <= 9 ? '0' + timer_minutes :timer_minutes) + ':' + \n        (timer_seconds <= 9 ? '0' + timer_seconds : timer_seconds)\n      )\n\n\n    Ref.current = idtimer\n\n  }\n  \n  function clearTimer(e) {\n    setTimer('00:00:00')\n    clearInterval(Ref.current)\n  }\n\n  useEffect(() => {\n      if (timer_btn !== \"00:00:00\")\n        clearTimer()\n  });\n\n  var button_status = button_off;\n  if (status === 1) button_status = button_on\n\n  return (\n    <div className='onoff'>\n      <img src={button_status} id='button-img' onClick={buttonSetStatus} alt=\"onoff button\" /> \n      <p id=\"timer-text\"> {timer_btn} </p> \n    </div>\n  )\n}\n\nexport default OnOff"]},"metadata":{},"sourceType":"module"}