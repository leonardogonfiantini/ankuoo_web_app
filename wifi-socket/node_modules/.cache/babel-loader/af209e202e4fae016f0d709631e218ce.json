{"ast":null,"code":"var _jsxFileName = \"/home/skallagrimsson/GitHub/ankuoo_web_app/ankuoo/src/components/onoff/onoff.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport './onoff.scss';\nimport button_on from './power-button-on.png';\nimport button_off from './power-button-off.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction OnOff() {\n  _s();\n\n  const [status, setStatus] = useState(0);\n\n  function buttonSetStatus(e) {\n    if (status === 0) {\n      e.target.setAttribute('src', button_off);\n      setStatus(status + 1);\n      startTimer();\n    } else {\n      e.target.setAttribute('src', button_on);\n      setStatus(status - 1);\n      clearTimer();\n    }\n  }\n\n  const Ref = useRef(null);\n  const [timer, setTimer] = useState('00:00:00');\n\n  function startTimer() {\n    var oldtime = new Date().getTime();\n    const idtimer = setInterval(() => {\n      var now = new Date().getTime();\n      var distance = now - oldtime;\n      var hours = Math.floor(distance % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n      var minutes = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));\n      var seconds = Math.floor(distance % (1000 * 60) / 1000);\n      setTimer((hours <= 9 ? '0' + hours : hours) + ':' + (minutes <= 9 ? '0' + minutes : minutes) + ':' + (seconds <= 9 ? '0' + seconds : seconds));\n    }, 1000);\n    Ref.current = idtimer;\n  }\n\n  function clearTimer(e) {\n    setTimer('00:00:00');\n    clearInterval(Ref.current);\n  }\n\n  useEffect(() => {\n    if (timer !== \"00:00:00\") clearTimer();\n  });\n  var button_status = button_off;\n  if (status === 1) button_status = button_on;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"onoff\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: button_status,\n      id: \"button-img\",\n      onClick: buttonSetStatus,\n      alt: \"onoff button\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"timer-text\",\n      children: [\" \", timer, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OnOff, \"zF+b9HcQZyQlQyLO2m4NiYpBAjE=\");\n\n_c = OnOff;\nexport default OnOff;\n\nvar _c;\n\n$RefreshReg$(_c, \"OnOff\");","map":{"version":3,"sources":["/home/skallagrimsson/GitHub/ankuoo_web_app/ankuoo/src/components/onoff/onoff.jsx"],"names":["React","useState","useRef","useEffect","button_on","button_off","OnOff","status","setStatus","buttonSetStatus","e","target","setAttribute","startTimer","clearTimer","Ref","timer","setTimer","oldtime","Date","getTime","idtimer","setInterval","now","distance","hours","Math","floor","minutes","seconds","current","clearInterval","button_status"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport './onoff.scss'\n\nimport button_on from './power-button-on.png'\nimport button_off from './power-button-off.png'\n\nfunction OnOff() {\n  \n  const [status, setStatus] = useState(0);\n\n  function buttonSetStatus(e) {\n\n    if (status === 0) {\n      e.target.setAttribute('src', button_off)\n      setStatus(status + 1);\n      startTimer();\n    }\n    else {\n      e.target.setAttribute('src', button_on)\n      setStatus(status - 1);\n      clearTimer()\n    }\n  }\n\n\n  const Ref = useRef(null);\n\n  const [timer, setTimer] = useState('00:00:00')\n\n  function startTimer() {  \n\n    var oldtime = new Date().getTime();\n\n    const idtimer = setInterval(() => {\n      var now = new Date().getTime();\n    \n      var distance = now - oldtime;\n    \n      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n      var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n    \n      setTimer(\n        (hours <= 9 ? '0' + hours : hours) + ':' + \n        (minutes <= 9 ? '0' + minutes : minutes) + ':' + \n        (seconds <= 9 ? '0' + seconds : seconds)\n      )\n\n    }, 1000)\n\n    Ref.current = idtimer\n\n  }\n  \n  function clearTimer(e) {\n    setTimer('00:00:00')\n    clearInterval(Ref.current)\n  }\n\n  useEffect(() => {\n      if (timer !== \"00:00:00\")\n        clearTimer()\n  });\n\n  var button_status = button_off;\n  if (status === 1) button_status = button_on\n\n  return (\n    <div className='onoff'>\n      <img src={button_status} id='button-img' onClick={buttonSetStatus} alt=\"onoff button\" /> \n      <p id=\"timer-text\"> {timer} </p> \n    </div>\n  )\n}\n\nexport default OnOff"]},"metadata":{},"sourceType":"module"}