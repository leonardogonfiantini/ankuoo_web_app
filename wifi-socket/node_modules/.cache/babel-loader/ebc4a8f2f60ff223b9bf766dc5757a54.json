{"ast":null,"code":"import _slicedToArray from\"/home/skallagrimsson/GitHub/ankuoo_web_app/ankuoo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from'react';import'./onoff.scss';import button_on from'./power-button-on.png';import button_off from'./power-button-off.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OnOff(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];function buttonSetStatus(e){if(status===0){e.target.setAttribute('src',button_off);setStatus(status+1);startTimer();}else{e.target.setAttribute('src',button_on);setStatus(status-1);clearTimer();}}var Ref=useRef(null);var _useState3=useState('00:00:00'),_useState4=_slicedToArray(_useState3,2),timer_btn=_useState4[0],setTimer=_useState4[1];function startTimer(){var oldtime=new Date().getTime();var idtimer=setInterval(function(){var now=new Date().getTime();var distance=now-oldtime;var timer_hours=Math.floor(distance%(1000*60*60*24)/(1000*60*60));var timer_minutes=Math.floor(distance%(1000*60*60)/(1000*60));var timer_seconds=Math.floor(distance%(1000*60)/1000);setTimer((timer_hours<=9?'0'+timer_hours:timer_hours)+':'+(timer_minutes<=9?'0'+timer_minutes:timer_minutes)+':'+(timer_seconds<=9?'0'+timer_seconds:timer_seconds));},1000);Ref.current=idtimer;}function clearTimer(e){setTimer('00:00:00');clearInterval(Ref.current);}useEffect(function(){if(timer_btn!==\"00:00:00\")clearTimer();});var button_status=button_off;if(status===1)button_status=button_on;return/*#__PURE__*/_jsxs(\"div\",{className:\"onoff\",children:[/*#__PURE__*/_jsx(\"img\",{src:button_status,id:\"button-img\",onClick:buttonSetStatus,alt:\"onoff button\"}),/*#__PURE__*/_jsxs(\"p\",{id:\"timer-text\",children:[\" \",timer_btn,\" \"]})]});}export default OnOff;","map":{"version":3,"sources":["/home/skallagrimsson/GitHub/ankuoo_web_app/ankuoo/src/components/onoff/onoff.jsx"],"names":["React","useState","useRef","useEffect","button_on","button_off","OnOff","status","setStatus","buttonSetStatus","e","target","setAttribute","startTimer","clearTimer","Ref","timer_btn","setTimer","oldtime","Date","getTime","idtimer","setInterval","now","distance","timer_hours","Math","floor","timer_minutes","timer_seconds","current","clearInterval","button_status"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport './onoff.scss'\n\nimport button_on from './power-button-on.png'\nimport button_off from './power-button-off.png'\n\nfunction OnOff() {\n  \n  const [status, setStatus] = useState(0);\n\n  function buttonSetStatus(e) {\n\n    if (status === 0) {\n      e.target.setAttribute('src', button_off)\n      setStatus(status + 1);\n      startTimer();\n    }\n    else {\n      e.target.setAttribute('src', button_on)\n      setStatus(status - 1);\n      clearTimer()\n    }\n  }\n\n\n  const Ref = useRef(null);\n\n  const [timer_btn, setTimer] = useState('00:00:00')\n\n  function startTimer() {  \n\n    var oldtime = new Date().getTime();\n\n    const idtimer = setInterval(() => {\n      var now = new Date().getTime();\n    \n      var distance = now - oldtime;\n    \n      var timer_hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n      var timer_minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n      var timer_seconds = Math.floor((distance % (1000 * 60)) / 1000);\n    \n      setTimer(\n        (timer_hours <= 9 ? '0' + timer_hours : timer_hours) + ':' + \n        (timer_minutes <= 9 ? '0' + timer_minutes :timer_minutes) + ':' + \n        (timer_seconds <= 9 ? '0' + timer_seconds : timer_seconds)\n      )\n\n    }, 1000)\n\n    Ref.current = idtimer\n\n  }\n  \n  function clearTimer(e) {\n    setTimer('00:00:00')\n    clearInterval(Ref.current)\n  }\n\n  useEffect(() => {\n      if (timer_btn !== \"00:00:00\")\n        clearTimer()\n  });\n\n  var button_status = button_off;\n  if (status === 1) button_status = button_on\n\n  return (\n    <div className='onoff'>\n      <img src={button_status} id='button-img' onClick={buttonSetStatus} alt=\"onoff button\" /> \n      <p id=\"timer-text\"> {timer_btn} </p> \n    </div>\n  )\n}\n\nexport default OnOff"]},"metadata":{},"sourceType":"module"}